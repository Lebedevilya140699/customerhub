<form [ngrxFormState]="$formState$ | async">
	<hh-curtain-header>
		<hh-curtain-title>Certificate</hh-curtain-title>
		<hh-curtain-close (click)="curtain.close()"></hh-curtain-close>
	</hh-curtain-header>
	<hh-curtain-content>
		<hh-curtain-subtitle> Here you can edit your certificate</hh-curtain-subtitle>
		<p>Name</p>
		<mat-form-field appearance="outline" floatLabel="always" class="hh--curtain__input">
			<mat-label>Name</mat-label>
			<input
				matInput
				type="text"
				placeholder="Type name"
				[ngrxFormControlState]="($formControls$ | async)?.name"
				name="name"
			/>
			<mat-error>Name is required</mat-error>
		</mat-form-field>
		<p>Expires</p>
		<mat-form-field appearance="outline" class="hh--curtain__input">
			<mat-label>Expires</mat-label>
			<input
				[matDatepicker]="expirationAt"
				[ngrxFormControlState]="($formControls$ | async)?.expirationAt"
				[ngrxValueConverter]="dateValueConverter"
				matInput
				name="expirationAt"/>
			<mat-datepicker-toggle matSuffix [for]="expirationAt"></mat-datepicker-toggle>
			<mat-datepicker #expirationAt></mat-datepicker>
		</mat-form-field>
	</hh-curtain-content>
	<hh-curtain-footer>
		<button mat-flat-button color="primary" (click)="save()" [disabled]="isLoading">
			<mat-spinner *ngIf="isLoading" diameter="16"></mat-spinner>
			SAVE
		</button>
		<button mat-button (click)="curtain.close()">CANCEL</button>
	</hh-curtain-footer>
</form>
